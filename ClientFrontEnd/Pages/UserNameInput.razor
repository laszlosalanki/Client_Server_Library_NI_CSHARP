@page "/usernameinput"

<h1>Get borrowed books by user name</h1>

<br />

<form action=@OnClick()>
    <div class="form-group">
        <label for="first_name">First Name</label>
        <input id="first_name" class="form-control" type="text" @bind="@FirstName" @oninput="@((e) => { FirstName=(string)e.Value;})" />
    </div>
    <br />
    <div class="form-group">
        <label for="last_name">Last Name</label>
        <input id="last_name" class="form-control" type="text" @bind="@LastName" @oninput="@((e) => { LastName=(string)e.Value;})" />
    </div>
    <br />
    <button class="btn btn-primary">Search</button>
</form>

@code{
    public string FirstName { get; set; }
    public string LastName { get; set; }

    public string OnClick()
    {
        if (!string.IsNullOrEmpty(FirstName) && !string.IsNullOrEmpty(LastName))
        {
            return $"borrowedbooks/{FirstName.ToLower()}{LastName.ToLower()}";
        }
        return "/usernameinput";
    }
}